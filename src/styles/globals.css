@import url("https://fonts.googleapis.com/css2?family=Figtree:wght@400;500;600&family=Permanent+Marker&display=swap");
@import "tailwindcss";

/* ================================
   COLOR TOKENS (LIGHT & DARK)
   ================================ */
:root {
  /* Gradient (light) */
  --grad-start: #f1efe6; /* 0% */
  --grad-mid: #a469ed;   /* 43% */
  --grad-end: #da9546;   /* 100% */
  --grad-mid-stop: 43%;

  /* Text (light) */
  --text-heading: #434343;
  --text-link:    #434343;
  --text-body:    #1c1c1c;

  /* Accent (light) */
  --accent: #da9546;
}

.dark {
  /* Gradient (dark) */
  --grad-start: #463699; /* 0% */
  --grad-mid:   #72357e; /* 28% */
  --grad-end:   #262335; /* 100% */
  --grad-mid-stop: 28%;

  /* Text (dark) */
  --text-heading: #ffd8ac;
  --text-link:    #ffd8ac;
  --text-body:    #ffd8ac;

  /* Accent (dark) */
  --accent: #ffd8ac;
}

/* ================================
   BASE STYLES
   ================================ */
@layer base {
  html { @apply font-sans; }

  body {
    color: var(--text-body);
    background: linear-gradient(
      180deg,
      var(--grad-start) 0%,
      var(--grad-mid) var(--grad-mid-stop),
      var(--grad-end) 100%
    );
    min-height: 100dvh;
  }

  h1, h2, h3 {
    font-family: "Permanent Marker", system-ui, sans-serif;
    color: var(--text-heading);
  }

  a {
    color: var(--text-link);
    font-weight: 500; /* Figtree Medium */
    text-decoration: none;
  }
  a:hover { text-decoration: underline; }
}

/* ================================
   KEYFRAMES (GLOBAL)
   ================================ */
@keyframes ida-caret-blink {
  0%,49% { opacity: 1; }
  50%,100% { opacity: 0; }
}

/* ================================
   UTILITIES (CONSOLIDATED)
   ================================ */
@layer utilities {
  /* Reusable gradient background */
  .bg-ida-gradient {
    background: linear-gradient(
      180deg,
      var(--grad-start) 0%,
      var(--grad-mid) var(--grad-mid-stop),
      var(--grad-end) 100%
    );
  }

  /* Subtle press/plop hover */
  .plop {
    display: inline-block;
    transform: translateY(0);
    transition: transform 180ms cubic-bezier(0.22,1,0.36,1);
    will-change: transform;
  }
  .plop:hover  { transform: translateY(2px); }
  .plop:active { transform: translateY(3px); transition-duration: 120ms; }

  /* Soft link glow */
  .glow-link {
    transition:
      text-shadow 200ms cubic-bezier(0.22,1,0.36,1),
      opacity 200ms cubic-bezier(0.22,1,0.36,1),
      color 200ms cubic-bezier(0.22,1,0.36,1);
  }
  .glow-link:hover {
    text-shadow: 0 0 12px var(--accent), 0 0 3px var(--accent);
    opacity: 1;
  }
  .dark .glow-link:hover {
    text-shadow: 0 0 12px var(--text-link), 0 0 3px var(--text-link);
    opacity: 1;
  }

  /* Typewriter caret */
  .type-caret {
    display: inline-block;
    width: 0;
    height: 1em;
    margin-left: 0.06em;
    border-right: 2px solid currentColor;
    animation: ida-caret-blink 0.8s steps(1,end) infinite;
    vertical-align: -0.05em;
    pointer-events: none;
  }
}

/* ================================
   REDUCED MOTION OVERRIDES
   ================================ */
@media (prefers-reduced-motion: reduce) {
  .type-caret { animation: none; }
}
