/* src/styles/globals.css */
@import url("https://fonts.googleapis.com/css2?family=Figtree:wght@400;500;600&family=Permanent+Marker&display=swap");
@import "tailwindcss";

/* ================================
   COLOR TOKENS (LIGHT & DARK)
   ================================ */
:root {
  /* Gradient (light) */
  --grad-start: #f1efe6; /* 0% */
  --grad-mid: #a469ed;   /* 43% */
  --grad-end: #da9546;   /* 100% */
  --grad-mid-stop: 43%;

  /* Text (light) */
  --text-heading: #434343;
  --text-link:    #434343;
  --text-body:    #1c1c1c;

  /* Accent (light) */
  --accent: #da9546;
}

.dark {
  /* Gradient (dark) */
  --grad-start: #463699; /* 0% */
  --grad-mid:   #72357e; /* 28% */
  --grad-end:   #262335; /* 100% */
  --grad-mid-stop: 28%;

  /* Text (dark) */
  --text-heading: #ffd8ac;
  --text-link:    #ffd8ac;
  --text-body:    #ffd8ac;

  /* Accent (dark) */
  --accent: #ffd8ac;
}

/* ================================
   BASE STYLES
   ================================ */
@layer base {
  html { @apply font-sans; }

  /* Keep browser UI in sync with your theme */
  :root { color-scheme: light; }
  .dark { color-scheme: dark; }

  body {
    color: var(--text-body);
    background: linear-gradient(
      180deg,
      var(--grad-start) 0%,
      var(--grad-mid) var(--grad-mid-stop),
      var(--grad-end) 100%
    );
    min-height: 100dvh;
  }

  h1, h2, h3 {
    font-family: "Permanent Marker", system-ui, sans-serif;
    color: var(--text-heading);
  }

  a {
    color: var(--text-link);
    font-weight: 500; /* Figtree Medium */
    text-decoration: none;
  }
  a:hover { text-decoration: underline; }

  /* NEW: make native controls inherit the page theme palette */
  input, textarea, select { color-scheme: inherit; }
}

/* ================================
   KEYFRAMES (GLOBAL)
   ================================ */
@keyframes ida-caret-blink {
  0%,49% { opacity: 1; }
  50%,100% { opacity: 0; }


  
}

/* ================================
   UTILITIES (CONSOLIDATED)
   ================================ */
@layer utilities {
  /* Reusable gradient background */
  .bg-ida-gradient {
    background: linear-gradient(
      180deg,
      var(--grad-start) 0%,
      var(--grad-mid) var(--grad-mid-stop),
      var(--grad-end) 100%
    );
  }

  /* Subtle press/plop hover */
  .plop {
    display: inline-block;
    transform: translateY(0);
    transition: transform 180ms cubic-bezier(0.22,1,0.36,1);
    will-change: transform;
  }
  .plop:hover  { transform: translateY(2px); }
  .plop:active { transform: translateY(3px); transition-duration: 120ms; }

  /* Soft link glow */
  .glow-link {
    transition:
      text-shadow 200ms cubic-bezier(0.22,1,0.36,1),
      opacity 200ms cubic-bezier(0.22,1,0.36,1),
      color 200ms cubic-bezier(0.22,1,0.36,1);
  }
  .glow-link:hover {
    text-shadow: 0 0 12px var(--accent), 0 0 3px var(--accent);
    opacity: 1;
  }
  .dark .glow-link:hover {
    text-shadow: 0 0 12px var(--text-link), 0 0 3px var(--text-link);
    opacity: 1;
  }
  /* Image/logo glow (matches .glow-link vibe) */
  .glow-orb:hover img {
    filter: drop-shadow(0 0 12px var(--accent)) drop-shadow(0 0 3px var(--accent));
  }
  .dark .glow-orb:hover img {
    filter: drop-shadow(0 0 12px var(--text-link)) drop-shadow(0 0 3px var(--text-link));
  }

  /* Typewriter caret */
  .type-caret {
    display: inline-block;
    width: 0;
    height: 1em;
    margin-left: 0.06em;
    border-right: 2px solid currentColor;
    animation: ida-caret-blink 0.8s steps(1,end) infinite;
    vertical-align: -0.05em;
    pointer-events: none;
  }

  /* Carousel helpers */
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  .snap-x-mandatory { scroll-snap-type: x mandatory; }
}

/* ================================
   REDUCED MOTION OVERRIDES
   ================================ */
@media (prefers-reduced-motion: reduce) {
  .type-caret { animation: none; }
}

/* ================================
   REACT STARFIELD (both themes)
   ================================ */
@keyframes ida-star-twinkle-1 { 0%,100%{opacity:0.9} 50%{opacity:0.3} }
@keyframes ida-star-twinkle-2 { 0%,100%{opacity:0.85} 40%{opacity:0.25} 70%{opacity:1} }
@keyframes ida-star-twinkle-3 { 0%,100%{opacity:0.8} 30%{opacity:0.35} 60%{opacity:0.95} }
@keyframes ida-star-twinkle-4 { 0%,100%{opacity:0.9} 50%{opacity:0.1} }
@keyframes ida-star-twinkle-5 { 0%,100%{opacity:0.95} 45%{opacity:0.2} }
@keyframes ida-star-twinkle-6 { 0%,100%{opacity:0.9} 55%{opacity:0.15} }

.ida-starfield {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0; /* content goes above */
}

.ida-star {
  position: absolute;
  border-radius: 50%;
  background: #fff;        /* white stars; shows on both themes */
  box-shadow: 0 0 2px rgba(255,255,255,0.35);
  will-change: opacity;
}

/* twinkle bands (like the CodePen classes) */
.ida-star.band1 { animation: ida-star-twinkle-1 3s linear 1s infinite alternate; }
.ida-star.band2 { animation: ida-star-twinkle-2 4s linear 0s infinite alternate; }
.ida-star.band3 { animation: ida-star-twinkle-3 3.5s linear .5s infinite alternate; }
.ida-star.band4 { animation: ida-star-twinkle-4 1.25s linear 1.5s infinite alternate; }
.ida-star.band5 { animation: ida-star-twinkle-5 4s linear 2s infinite alternate; }
.ida-star.band6 { animation: ida-star-twinkle-6 2.5s linear 1s infinite alternate; }

@media (prefers-reduced-motion: reduce) {
  .ida-star { animation: none !important; opacity: 0.8 !important; }
}

/* =========================================
   SEMI-GLASS CARD (light & dark variants)
   ========================================= */
.glass-card {
  /* fallback for older browsers */
  background: rgba(255, 255, 255, 0.36);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* darker + crisper in dark mode */
.dark .glass-card {
  background: rgba(255, 255, 255, 0.10);
}

/* nicer color interpolation where supported */
@supports (background: color-mix(in oklab, white 36%, transparent)) {
  .glass-card {
    background: color-mix(in oklab, white 36%, transparent);
  }
  .dark .glass-card {
    background: color-mix(in oklab, white 10%, transparent);
  }
}

/* Autofill theming (Chrome/WebKit) */
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
  -webkit-text-fill-color: inherit;
  transition: background-color 9999s ease-out, color 9999s ease-out;
  box-shadow: 0 0 0px 1000px transparent inset;
}

.dark input:-webkit-autofill,
.dark textarea:-webkit-autofill,
.dark select:-webkit-autofill {
  -webkit-text-fill-color: var(--text-body);
}

/* NEW: force native controls to render dark when site is dark */
.dark input,
.dark textarea,
.dark select {
  background-color: color-mix(in oklab, white 10%, transparent) !important;
  color: var(--text-body) !important;
  border-color: color-mix(in oklab, white 25%, transparent) !important;
  -webkit-text-fill-color: var(--text-body);
  background-clip: padding-box;
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: color-mix(in oklab, white 70%, transparent);
}
